.grid{

  &-margin-x{
    .cell{
      $column-spacing: (
        md: (2, 3, 4),
        lg: (2, 3, 4)
      );


      .cell{
        @each $breakpoint, $column-counts in $column-spacing {
          //$column-count: 2;
          @each $column-count in $column-counts {
            &[class*="#{$breakpoint}-#{12/$column-count}"]:nth-child(n+#{$column-count + 1}){
              @include media-breakpoint-up($breakpoint){
                margin-top: $spacer*4;
              }
            }
          }
        }
        $mobile-margin-spacer: 3*$spacer;
        &[class*=medium-]:not([class*=sm-]){
          @include media-breakpoint-only(sm){
            &:not(:last-child){
              margin-bottom: $mobile-margin-spacer;
              &.l-content{
                margin-bottom: 5*$spacer;
              }
            }
          }
        }
        &[class*=large-12]{
          @include media-breakpoint-up(large){
            &:not(:last-child){
              margin-bottom: $spacer*4;
            }
          }
        }
        &[class*=large-]:not([class*=medium-]):not([class*=sm-]){
          @include media-breakpoint-down(medium){
            &:not(:last-child){
              margin-bottom: $mobile-margin-spacer;
            }
          }
        }


      }
      $mobile-margin-spacer: 3*$spacer;
      &[class*=medium-]:not([class*=sm-]){
        @include media-breakpoint-only(sm){
          &:not(:last-child){
            margin-bottom: $mobile-margin-spacer;
            &.l-content{
              margin-bottom: 5*$spacer;
            }
          }
        }
      }
      &[class*=large-12]{
        @include media-breakpoint-up(large){
          &:not(:last-child){
            margin-bottom: $spacer*4;
          }
        }
      }
      &[class*=large-]:not([class*=medium-]):not([class*=sm-]){
        @include media-breakpoint-down(medium){
          &:not(:last-child){
            margin-bottom: $mobile-margin-spacer;
          }
        }
      }
    }
    // &.wide-mobile-spacing{
    //   .cell{
    //     &[class*=medium-]{
    //       @include media-breakpoint-only(sm){
    //         &:not(:last-child){
    //           margin-bottom: rem-calc(40);
    //         }
    //       }
    //     }
    //   }
    // }
    // &.tight-mobile-spacing{
    //   .cell{
    //     &[class*=medium-]{
    //       @include media-breakpoint-only(sm){
    //         &:not(:last-child){
    //           margin-bottom: rem-calc(15);
    //         }
    //       }
    //     }
    //   }
    // }
  }
}
