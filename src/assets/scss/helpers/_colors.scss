


@function map-set($map, $key, $value) {
  $new: ($key: $value);
  @return map-merge($map, $new);
}

$additional-palette: ();
$light-opacity: 0.1;
$gradient-opacity: 0.4;

@mixin generateVariants($map, $color){

  @if (is-map($map) == false){
    $map: (default: $map);
    $map: map-set($map, 'variants', ());
  }
  $default-color: map-get($map, 'default');
  $variants: map-get($map, 'variants');

  .color-#{$color}{
    color: $default-color;
  }

  .fill-#{$color}{
    path, polygon{
      fill: $default-color;
    }
  }


  .bg-solid-#{$color}{
    background-color: $default-color;
  }


  .bg-light-#{$color}{
    background-color: rgba($default-color,$light-opacity);
  }

  .bg-gradient-#{$color}{
    &:before{
      background: linear-gradient(to bottom, $white 0%, rgba($default-color,$gradient-opacity) 100%);
    }
  }
  @each $key, $value in $variants {


    $output: $value;
    @if (is-percentage($value)){
      $output: scale-color($default-color,$lightness: $output);
    }

    @if $output{
      $additional-palette: map-set($additional-palette, '#{$color}-#{$key}', $output) !global;
      .color-#{$color}-#{$key}{
        color: $output;
      }
      .bg-solid-#{$color}-#{$key}{
        background-color: $output;
      }

      .bg-light-#{$color}-#{$key}{
        background-color: rgba($output,$light-opacity);
      }

      .bg-gradient-#{$color}-#{$key}{
        &:before{
          background: linear-gradient(to bottom, $white 0%, rgba($output,$gradient-opacity) 100%);
        }
      }
    }

    // .bg-gradient-#{$color}-#{$key}-flip{

    //   background: linear-gradient(to bottom,$output 0px, $white 800px);
    // }




  }
}


@include generateVariants($primary, 'primary');
@include generateVariants($secondary, 'secondary');
@include generateVariants($tertiary, 'tertiary');
@include generateVariants($alert, 'alert');
@include generateVariants($success, 'success');
@include generateVariants($gray, 'warning');
@include generateVariants($black, 'black');
@include generateVariants($white, 'white');
@include generateVariants($gray, 'gray');




//@debug $additional-palette;

