
@import '../vendor/icomoon/variables';
$arrow-margin-xxlarge: 25px;
$peekaboo-space: 30px;
$slide-margin: map-get($grid-container-padding,'medium');

$slide-margin-offset: 15; // to prevent shadow overflow issues

.slick-list{
	margin-bottom: rem-calc(-1*$slide-margin-offset);
}

.slick-slide{
	margin: 0 rem-calc(0.5*$slide-margin) rem-calc($slide-margin-offset);
	.card{
		margin-bottom: 0;
	}
}

$toggle-spacing: 18;
.slick-toggle{
	color: $primary-color;
	cursor: pointer;
	order: 3;
	position: relative;
	margin-left: rem-calc($toggle-spacing);
	height: rem-calc(23);
	display: inline-block;
	width: rem-calc(18);
	@include breakpoint(large){
		font-size: rem-calc(30);
		height: rem-calc(35);
		width: rem-calc(25);
	}
	&:before{
		content: "";
		display: block;
		position: absolute;
		background-color: $tertiary-color;
		height: 100%;
		width: rem-calc(1);
		left: rem-calc(-1*$toggle-spacing);
		top: 0;
	}
	.active, .inactive{
		left: 0;
		@include vertical-center;
	}
	// .active{
	// 	margin-top: -1px;
	// 	margin-bottom: 1px;
	// }
	.inactive{
		display: none;
	}
}


.slick-wrap{
	position: relative;
}

.slick-slider{
	&--equalize{
		.slick-track{
			display: flex !important;
		}
		.slick-slide{
			//margin: 0;
			height: inherit !important;
			display: flex !important;
			align-items: center;
		}
	}
	&.has-peekaboo{
		@include breakpoint(small only){
			overflow: hidden;
			padding-right: rem-calc($peekaboo-space);
			margin-right: -0.5*map-get($grid-container-padding,'small');
			.slick-list{
				overflow: visible !important;
			}
		}
	}
	&:not(.has-pagers){
		+ .slick-nav{
			display: none;
		}
	}

	// &.has-pagination {

	// 	+ .slick-nav{
	// 		// position: relative;


	// 			.slick-dots{
	// 				// margin-top: rem-calc(5);
	// 				li{
	// 					padding-left: rem-calc(3);
	// 					padding-right: rem-calc(3);
	// 				}
	// 				button{
	// 					font-size: $pagination-font-size;
	// 					color: $pagination-item-color;
	// 					background-color: $white;
	// 					font-weight: bold;
	// 					cursor: pointer;
	// 					padding: $pagination-item-padding;
	// 					border-radius: 0;
	// 					height: auto;
	// 					line-height: $paragraph-lineheight;
	// 					width: auto;
	// 					display: inline-block;
	// 				}
	// 				.slick-active{
	// 					button{
	// 						background-color: $pagination-item-background-current;
	// 					}
	// 				}
	// 			}

	// 			.slick-dots{
	// 				counter-reset: pages;
	// 				li{
	// 					counter-increment: pages;
	// 					&:not(.slick-active):not(:last-child){
	// 						position: absolute;
	// 						opacity: 0;
	// 						z-index: -1;
	// 					}
	// 					button{
	// 						padding: rem-calc(0);
	// 						background-color: transparent !important;
	// 						pointer-events: none;
	// 					}
	// 					&:last-child{
	// 						button{
	// 							&:before{
	// 								content: " of "
	// 							}
	// 						}
	// 						&.slick-active{
	// 							button{
	// 								&:before{
	// 									content: counter(pages) " of ";
	// 								}
	// 							}
	// 						}

	// 					}
	// 				}
	// 			}



	// 	}
	// }
}


.slick-dots {
	display: flex;
	align-items: center;
	justify-content: center;
	margin: rem-calc(0 $spacer*2.5);
	list-style-type: none;

	li {

		&,
		&:last-child {
			padding: rem-calc(15 $spacer*3/2);
			padding-bottom: rem-calc(14) !important;

			@include breakpoint(large) {
				padding-top: rem-calc(11);
				padding-bottom: rem-calc(11) !important;
			}
		}

		button{
			@include size(rem-calc($spacer*3));
			display: block;
			font-size: 0;
			line-height: 0;
			border-radius: 50%;
			border: 2px solid $primary-color;
			background: $primary-color;
		}

		&.slick-active,
		&.active {

			button {
				background-color: $white;
			}
		}

		&:before {
			content: "";
			display: none;
		}
	}

}
.slick-arrow {
	border-radius: 50%;
	border: 0;
	background: transparent;
	display: flex;
	align-items: center;
	justify-content: center;
	//padding-right: rem-calc(3);
	margin-left: 0;
	margin-right: rem-calc(17);
	font-size: 0;
	line-height: 0;
	color: $white;
	text-decoration: none;
	cursor: pointer;
	background-color: $primary-color;
	//width: rem-calc(54);
	@include size(40);
	text-align: center;
	// @include breakpoint(large) {
	// 	@include size(54);
	// 	margin-right: 0;
	// 	//padding-right: rem-calc(2);
	// }

	&:before {
		//font-size: rem-calc(30);
		line-height: 1;
		font-family: $icomoon-font-family;
		font-size: rem-calc(10);
		@include breakpoint(large) {
			font-weight: normal;
			font-size: rem-calc(14);
			//line-height: 1;
		}
	}

	&.slick-disabled{
		background-color: $input-background-disabled;
		&:before{
			color: $medium-gray;
		}
	}

	&.slick-prev {

		&:before {
			content: $icon-chevron-left;
		}
	}

	&.slick-next {
		&:before {
			content: $icon-chevron-right;
		}
	}

	&.slick-disabled {

		&,
		&:focus {
			color: $light-gray;
			pointer-events: none;

			html:not(.touch-device) & {
				color: $light-gray;
			}
		}
	}
	&:hover{
		color: map-get($additional-palette,'secondary-darker');
	}
}

.slick-nav{
	margin-top: rem-calc($spacer*4);
	display: flex;
	flex-wrap: wrap;
	align-items: center;
	justify-content: center;

	.slick-prev {
		order: 1;
		margin-right: 0;
	}

	.slick-next {
		order: 3;
		margin-left: 0;
	}

	.slick-dots {
		order: 2;
		flex-wrap: wrap;
		max-width: calc(100% - 68px);


	}


	.slick-slider.is-paused + &{
		//background-color: red;
		.slick-toggle{
			.inactive{
				display: block;
			}
			.active{
				display: none;
			}
		}
	}



	.slick-slider.is-paused + &{
		//background-color: red;
		.slick-toggle{
			.inactive{
				display: block;
			}
			.active{
				display: none;
			}
		}
	}
// 	.slick-slider + &:not(:empty):not(.slick-nav--inline){
// //		margin-bottom: rem-calc(50);
// 		.slick-dots{
// 			//margin-top: rem-calc(50);
// 			//position: absolute;
// 			//bottom:
// 		}
// 		.slick-arrow{
// 			position: absolute;
// 			@include vertical-center;
// 			&.slick-prev{
// 				right: 100%;
// 				transform: translateX(50%) translateY(-50%);
// 				//margin-right: rem-calc($arrow-margin-xxlarge);
// 			}
// 			&.slick-next{
// 				left: 100%;
// 				transform: translateX(-50%) translateY(-50%);
// 				//margin-left: rem-calc($arrow-margin-xxlarge);
// 			}
// 			&:hover{
// 				background-color: map-get($tertiary,'default');
// 			}
// 		}
// 	}


}

.js-slick--center{
	$transition-duration: 0.75s;
	// + .slick-nav{
	// 	position: absolute;
	// 	background-color: $light-gray;
	// 	z-index: 100;
	// 	width: rem-calc(200);
	// 	top: 0;

	// }
	.slick-list{
		overflow: visible;
	}

	$slide-margin: 80;
	$slide-width: 450;
	$slide-current-diff: 230;
	.slick-slide{
		margin: 0 rem-calc($slide-margin);
		max-width: 100vw;

		width: rem-calc($slide-width);
		// @include breakpoint(500){
		// 	max-width: rem-calc(500);
		// }
		transform: translateY(#{rem-calc(80)});
		transition: $transition-duration transform, $transition-duration width, $transition-duration margin;
		will-change: margin;
		.card-title{
			//max-width: rem-calc(400);
		}
		.card-section{
			will-change: background-color;
			transition: $transition-duration padding;
		}

		&:not(.slick-current){
			.card-section{
				padding: rem-calc($spacer*3 $spacer*4);
			}
			.card-image{
				transition: $transition-duration margin;
			}
			.h4{
				display: block; // selectors to hide
				will-change: opacity, max-height;
				transition: $transition-duration max-height, $transition-duration opacity;
				opacity: 0;
				max-height: 0;
				overflow: hidden;
			}
			&:after{
				transition: $transition-duration bottom;
			}
		}


		&.slick-current{
			z-index: 2;
			position: relative;
			width: rem-calc($slide-width + $slide-current-diff);
			margin: 0 #{$slide-margin*2 - ($slide-current-diff/2 + $slide-margin)}px;
			transform: translateY(#{rem-calc(0)});

			.card--special{
				box-shadow: $global-box-shadow;
				.card-section{
					padding: rem-calc($spacer*5 $spacer*5);
				}
				.card-image{
					margin-bottom: rem-calc(80);
				}
				&:after{
					height: 70%;
					bottom: rem-calc(80);
				}
			}
			// .card-section{
			// 	background-color: $secondary-color;
			// 	color: $white;
			// }
			.card-image, .button{  // selectors to hide
				max-height: rem-calc(1000);
				opacity: 1;
			}
		}

	}
}
